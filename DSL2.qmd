# DSL2


## Modules 

A module is a Nextflow script containing one or more process definitions that can be imported from another Nextflow script.

A process can be invoked as a function in the workflow scope, passing the expected input channels as parameters as it if were a custom function.

```{r}
#| echo: true
#| eval: false
process bar {
    input:
      path x
    output:
      path 'bar.txt'
    script:
      """
      your_command $x > bar.txt
      """
}

workflow {
    data = channel.fromPath('/some/path/*.txt')
    bar(data)
}
```

Reference 
https://icbi-lab.github.io/current-topics-bioinformatics-lecture/07_nextflow_dsl2.html#7


Module components can be imported using the include keyword.

```{r}
#| echo: true
#| eval: false
include { foo } from './some/module'

workflow {
    data = channel.fromPath('/some/data/*.txt')
    foo(data)
}
```


Multiple inclusion


```{r}
#| echo: true
#| eval: false
include { foo; bar } from './some/module'

workflow {
    data = channel.fromPath('/some/data/*.txt')
    foo(data)
    bar(data)
}
```